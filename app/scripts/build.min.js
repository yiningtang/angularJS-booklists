"use strict";var navbar=angular.module("navbar",[]),home=angular.module("home",[]),modal=angular.module("modal",[]),app=angular.module("bigcommerceDemoApp",["ui.router","ngAnimate","navbar","home","modal"]);app.run(function(a){a.collapsed=!0}),app.config(function(a,b){b.otherwise("/"),a.state("home",{url:"/",views:{"":{templateUrl:"components/home/layout.html"},"navbar@home":{templateUrl:"shared/navbar/navbar.html",controller:"navbarCtrl"},"content@home":{templateUrl:"components/home/content.html",controller:"contentCtrl"}},resolve:{GetBook:function(a){return a.Details}}})}),app.factory("GetBook",[function(){var a={Details:[{title:"EI Pooch",author:"Alex Nelson",src:"assets/images/Ei.png",category:"book"},{title:"The Flight",author:"Scott Nelson",src:"assets/images/Flight.png",category:"book"},{title:"10 Best Places",author:"Scott Nelson",src:"assets/images/Top.png",category:"post"}]};return a}]),home.controller("contentCtrl",function(a,b,c){a.books=b,a.modal=!1,a.newBook=!0}),modal.directive("modal",function(){return{restrict:"AE",replace:!0,transclude:!0,require:"^ngModel",scope:{ngModel:"=",books:"="},templateUrl:"shared/modal/modal.html",link:function(a,b,c,d){a.master={title:"",name:"",image:"",category:"post"},a.reset=function(){a.ngModel=!1,a.obj=angular.copy(a.master),a.NewForm.$setPristine()},angular.element("#label1").html(c.title),angular.element("#label2").html(c.name),angular.element("#image").html(c.image),a.confirm=function(){var b,c=angular.element("#title").val(),d=angular.element("#name").val(),e=angular.element(".upload-image > img").attr("src"),f=!1,g=a.books.length,h={title:c,author:d,src:e,category:"post"};for(b=0;g>b;b++)if(a.books[b].title==c&&a.books[b].author==d){f=!0;break}f?alert("Has Existed"):(a.books.push(h),a.ngModel=!1,a.obj=angular.copy(a.master),a.NewForm.$setPristine())}}}}),app.directive("upload",[function(){return{restrict:"A",link:function(a,b,c){var d=new FileReader;d.onload=function(b){a.image=b.target.result,a.$apply()},b.on("change",function(){var a=document.querySelector("input[type=file]").files[0];d.readAsDataURL(a)})}}}]),navbar.controller("navbarCtrl",function(a,b,c){a.books=b,c.toggleMenu=function(){c.collapsed=!c.collapsed,0==c.collapsed?angular.element(".nav-menu>ul").css("display","block"):angular.element(".nav-menu>ul").css("display","none")}});